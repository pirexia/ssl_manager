# Tasks

- [x] Project Initialization & Planning
    - [x] Define Tech Stack & Requirements <!-- id: 0 -->
    - [x] Initialize Git Repository <!-- id: 1 -->
    - [x] Create Implementation Plan <!-- id: 2 -->
- [x] Environment Setup
    - [x] Create Virtual Environment <!-- id: 3 -->
    - [x] Install Dependencies (Django, mysqlclient, cryptography) <!-- id: 4 -->
    - [x] Configure Database (MariaDB/SQLite for dev) <!-- id: 5 -->
- [/] Backend Development - Core
    - [x] Initialize Django Project & App <!-- id: 6 -->
    - [x] Implement Database Models (Users, Roles, Domains, CSRs) <!-- id: 7 -->
    - [x] Implement Password Policies & Security <!-- id: 8 -->
        - [x] Password complexity enforcement
        - [x] Password expiration (90 days default)
        - [x] Password history (prevent reuse of last 20 passwords)
        - [x] Force password change on expiration
    - [x] Implement Multi-Factor Authentication (MFA) <!-- id: 23 -->
        - [x] Install and configure django-otp / qrcode
        - [x] Create MFA setup view (QR code generation)
        - [x] Implement MFA verification view (TOTP check)
        - [x] Implement Trusted Device Logic (7-day expiry cookie)
        - [x] Enforce MFA for login (optional or mandatory)
    - [x] Implement CSR Generation Logic (OpenSSL/Cryptography) <!-- id: 9 -->
    - [x] Implement Versioning System (Timestamp-based) <!-- id: 10 -->
    - [x] Add Certificate Validity Date Fields <!-- id: 11 -->
    - [x] Implement Certificate Upload & Date Extraction <!-- id: 12 -->
        - [x] Certificate upload form with validation
        - [x] Dual validation (Common Name + Public Key)
        - [x] Support multiple formats (.crt, .cer, .pem)
        - [x] Automatic date extraction from X.509 certificates
        - [x] Download in multiple formats (CRT, CER, PFX)
        - [x] Per-iteration upload buttons in history table
- [x] Frontend Development
    - [x] Design Base Templates (Navbar, Layout) <!-- id: 13 -->
    - [x] Implement Homepage (Generate vs Search) <!-- id: 14 -->
    - [x] Implement CSR Generation Wizard <!-- id: 15 -->
    - [x] Implement Advanced Search & Detail View <!-- id: 16 -->
        - [x] Live/Interactive Search (500ms debounce)
        - [x] Multi-select Domain Filter
        - [x] Expiration Date Filters (3 months, 1 month)
        - [x] Sortable Columns (Common Name, Created, Expires)
        - [x] Pagination (10/25/50/100 per page)
        - [x] Focus Preservation & Cursor Position Restoration
    - [x] Implement Iteration History View <!-- id: 17 -->
    - [x] Implement Certificate Upload Form <!-- id: 18 -->
    - [x] Implement Admin Panel (Custom & Django Admin) <!-- id: 19 -->
    - [x] Implement Cookie Consent Banner <!-- id: 24 -->
        - [x] Create cookie banner component
        - [x] Store user consent preference
        - [x] Disable Trusted Device feature if cookies not accepted
        - [x] Show warning in MFA page if cookies disabled
    - [x] Implement Internationalization (i18n) Infrastructure <!-- id: 25 -->
        - [x] Configure Django i18n settings
        - [x] Mark all strings for translation (using {% trans %} and {% blocktrans %})
        - [x] Create initial translation files with current language (English)
        - [x] Test translation system with English only
    - [x] Add Language Selector <!-- id: 26 -->
        - [x] Add language selector to navbar
        - [x] Implement language switching logic
        - [x] Store user language preference
    - [x] Add Spanish Translation <!-- id: 27 -->
        - [x] Generate Spanish (ES) .po file
        - [x] Translate all strings to Spanish
        - [x] Compile and test Spanish translation
    - [x] Add Portuguese Translation <!-- id: 28 -->
        - [x] Generate Portuguese (PT) .po file
        - [x] Translate all strings to Portuguese
        - [x] Compile and test Portuguese translation
    - [x] Add French Translation <!-- id: 29 -->
        - [x] Generate French (FR) .po file
        - [x] Translate all strings to French
        - [x] Compile and test French translation
    - [x] Add German Translation <!-- id: 30 -->
        - [x] Generate German (DE) .po file
        - [x] Translate all strings to German
        - [x] Compile and test German translation
    - [x] Add Italian Translation <!-- id: 31 -->
        - [x] Generate Italian (IT) .po file
        - [x] Translate all strings to Italian
        - [x] Compile and test Italian translation
    - [x] Implement Internal CA for Certificate Generation <!-- id: 32 -->
        - [x] Create InternalCA model (single global CA)
        - [x] Add CA generation utilities (root + intermediate)
        - [x] Add is_internal field to CertificateEntry
        - [x] Implement generate_internal_certificate view
        - [x] Add "Generate Internal" button in certificate detail
        - [x] Add bundle download support for internal certs
        - [x] Create database migration
        - [x] Test CA generation and certificate signing
    - [x] Enhance CSR Generation UI <!-- id: 33 -->
        - [x] Swap Domain and Subdomain fields position (Domain to the right)
        - [x] Add "Renew Certificate" section with dropdown of existing certificates
        - [x] Implement renewal logic (pre-fill form from selected certificate)
- [ ] Verification & Deployment Prep
    - [x] Test functionality <!-- id: 10 -->
    - [ ] Verify Security Requirements <!-- id: 21 -->
    - [ ] Manual Verification Walkthrough <!-- id: 22 -->
